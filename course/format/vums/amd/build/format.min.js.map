{"version":3,"file":"format.min.js","sources":["../src/format.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Enhancements to all components for easy course accessibility.\n *\n * @module     format/vums\n * @copyright  WisdmLabs\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n    /**\n     * Init method\n     *\n     * @param {Object} availableFormats Available formates\n     */\n    function init(availableFormats) {\n        $(document).ready(function() {\n            var sectionLayoutVal;\n            var sectionBackgroundVal;\n            var layoutValue = $(\"#id_vumscourseformat\").val();\n            window.localStorage.setItem('coursedisplay', $(\"#id_coursedisplay\").val());\n            // Hide and show the course settings on course format selection.\n            $(\"#id_vumscourseformat\").change(function() {\n                var layoutValue = $(\"#id_vumscourseformat\").val();\n                // CARD.\n                if (layoutValue == availableFormats.VUMS_CARD_FORMAT.format) {\n                    $(\"#id_coursedisplay option[value='0']\").hide();\n                    $('#id_coursedisplay').val(1).trigger('change');\n                    $(\"#id_vumsteacherdisplay\").parent().parent().hide();\n                    $(\"#id_vumsdefaultsectionview\").parent().parent().hide();\n                    $(\"#id_vumsenablecardbackgroundimg\").parent().parent().show();\n                    sectionBackgroundVal = $(\"#id_vumsenablecardbackgroundimg\").val();\n                    if (sectionBackgroundVal == 0) {\n                        $(\"#id_vumsdefaultsectiontheme\").parent().parent().hide();\n                    } else {\n                        $(\"#id_vumsdefaultsectiontheme\").parent().parent().show();\n                    }\n                    // LIST.\n                } else {\n                    $(\"#id_coursedisplay option[value='0']\").show();\n                    var oldcoursedisplay = window.localStorage.getItem('coursedisplay');\n                    $('#id_coursedisplay').val(oldcoursedisplay).trigger('change');\n                    $(\"#id_vumsteacherdisplay\").parent().parent().show();\n                    $(\"#id_vumsenablecardbackgroundimg\").parent().parent().hide();\n                    $(\"#id_vumsdefaultsectiontheme\").parent().parent().hide();\n                }\n                sectionLayoutVal = $(\"#id_coursedisplay\").val();\n                if (sectionLayoutVal == 1) {\n                    $(\"#id_vumsdefaultsectionview\").parent().parent().hide();\n                } else {\n                    $(\"#id_vumsdefaultsectionview\").parent().parent().show();\n                }\n            }).trigger('change');\n\n            // CARD.\n            if (layoutValue == availableFormats.VUMS_CARD_FORMAT.format) {\n                $(\"#id_coursedisplay option[value='0']\").hide();\n                $(\"#id_vumsteacherdisplay\").parent().parent().hide();\n                $(\"#id_vumsdefaultsectionview\").parent().parent().hide();\n                sectionBackgroundVal = $(\"#id_vumsenablecardbackgroundimg\").val();\n                if (sectionBackgroundVal == 0) {\n                    $(\"#id_vumsdefaultsectiontheme\").parent().parent().hide();\n                } else {\n                    $(\"#id_vumsdefaultsectiontheme\").parent().parent().show();\n                }\n                // LIST.\n            } else {\n                $(\"#id_vumsteacherdisplay\").parent().parent().show();\n                sectionLayoutVal = $(\"#id_coursedisplay\").val();\n                if (sectionLayoutVal == 1) {\n                    $(\"#id_vumsdefaultsectionview\").parent().parent().hide();\n                }\n                $(\"#id_vumsenablecardbackgroundimg\").parent().parent().hide();\n                $(\"#id_vumsdefaultsectiontheme\").parent().parent().hide();\n            }\n            $(\"#id_coursedisplay\").change(function() {\n                sectionLayoutVal = $(\"#id_coursedisplay\").val();\n                if (sectionLayoutVal == 1) {\n                    $(\"#id_vumsdefaultsectionview\").parent().parent().hide();\n                } else {\n                    $(\"#id_vumsdefaultsectionview\").parent().parent().show();\n                }\n            });\n\n            $(\"#id_vumsenablecardbackgroundimg\").change(function() {\n                sectionBackgroundVal = $(\"#id_vumsenablecardbackgroundimg\").val();\n                if (sectionBackgroundVal == 0) {\n                    $(\"#id_vumsdefaultsectiontheme\").parent().parent().hide();\n                } else {\n                    $(\"#id_vumsdefaultsectiontheme\").parent().parent().show();\n                }\n            });\n\n            $(\"#course-introduction-button\").on('click', () => {\n                //hide introdution button for blocks\n                $(\"#course-content-button2\").addClass('d-none');\n                $(\"#course-blocks\").addClass('d-none');\n                $(\"#course-blocks-button\").removeClass('d-none');\n\n                //show course cntent button\n                $(\"#course-content-button\").removeClass('d-none');\n                //hide activites\n                $(\"#list-container\").addClass('d-none');\n                $(\"#list-editing-container\").addClass('d-none');\n                //hide introdution button\n                $(\"#course-introduction-button\").addClass('d-none');\n                //show introductions\n                $(\"#course-introduction\").removeClass('d-none');\n\n            });\n            $(\"#course-blocks-button\").on('click', () => {\n                //hide course content button for blocks\n                $(\"#course-content-button\").addClass('d-none');\n                $(\"#course-introduction\").addClass('d-none');\n                $(\"#course-introduction-button\").removeClass('d-none');\n\n                //show course content button\n                $(\"#course-content-button2\").removeClass('d-none');\n                //hide activites\n                $(\"#list-container\").addClass('d-none');\n                $(\"#list-editing-container\").addClass('d-none');\n\n                //hide course block button\n                $(\"#course-blocks-button\").addClass('d-none');\n\n                //show blocks\n                $(\"#course-blocks\").removeClass('d-none');\n            });\n            $(\"#course-content-button\").on('click', () => {\n                $(\"#list-container\").removeClass('d-none');\n                $(\"#list-editing-container\").removeClass('d-none');\n                $(\"#course-introduction-button\").removeClass('d-none');\n                $(\"#course-introduction\").addClass('d-none');\n                $(\"#course-content-button\").addClass('d-none');\n            });\n            $(\"#course-content-button2\").on('click', () => {\n                $(\"#list-container\").removeClass('d-none');\n                $(\"#list-editing-container\").removeClass('d-none');\n                $(\"#course-blocks-button\").removeClass('d-none');\n                $(\"#course-blocks\").addClass('d-none');\n                $(\"#course-content-button2\").addClass('d-none');\n            });\n        });\n    }\n\n    // Must return the init function.\n    return {\n        init: init\n    };\n});\n"],"names":["define","$","init","availableFormats","document","ready","layoutValue","val","window","localStorage","setItem","change","VUMS_CARD_FORMAT","format","hide","trigger","parent","show","oldcoursedisplay","getItem","on","addClass","removeClass"],"mappings":"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"}