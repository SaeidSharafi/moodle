/**
 * Enhancements to Lists components for easy course accessibility.
 *
 * @module     format/vums
 * @copyright  WisdmLabs
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("format_vums/common",["jquery"],(function($){var SELECTORS_ACTIVITY_TOGGLE_CLASS="showhideactivity",SELECTORS_ACTIVITY_TOGGLE_WRAPPER=".showactivitywrapper",SELECTORS_FIRST_SECTION="#section-1",SELECTORS_TOGGLE_HIGHLIGHT=".section_action_menu .dropdown-item.editing_highlight",SELECTORS_TOGGLE_SHOWHIDE=".section_action_menu .dropdown-item.editing_showhide",SELECTORS_BUTTON_HIDE=".cm_action_menu .dropdown-menu .editing_hide",SELECTORS_BUTTON_SHOW=".cm_action_menu .dropdown-menu .editing_show",SELECTORS_DELETE='.section_action_menu .dropdown-item[data-action="deleteSection"]';function adjustGeneralSectionActivities(){$(SELECTORS_FIRST_SECTION+" .activity").length<=function(){let width=$(window).width();return $(".vums-format-list").length?width>=992?4:width>=768?3:2:width>=768?4:width>=481?2:1}()?($(SELECTORS_FIRST_SECTION).removeClass(SELECTORS_ACTIVITY_TOGGLE_CLASS),$(SELECTORS_ACTIVITY_TOGGLE_WRAPPER).hide()):($(SELECTORS_ACTIVITY_TOGGLE_WRAPPER).show(),$(SELECTORS_FIRST_SECTION).addClass(SELECTORS_ACTIVITY_TOGGLE_CLASS))}return{init:function(){$("#page-course-view-vums .section-modchooser-link").addClass("btn btn-primary"),adjustGeneralSectionActivities(),$(window).resize((function(){adjustGeneralSectionActivities()})),"none"==$(".general-section-activities li:last").css("display")?$(".showactivitywrapper").show():$(".showactivitywrapper").hide(),$("body").on("click","".concat(SELECTORS_TOGGLE_HIGHLIGHT,",\n                               ").concat(SELECTORS_TOGGLE_SHOWHIDE,",\n                               ").concat(SELECTORS_BUTTON_HIDE,",\n                               ").concat(SELECTORS_BUTTON_SHOW),(function(){location.reload()})),$("body").on("click","".concat(SELECTORS_DELETE),(function(event){return event.preventDefault(),window.location.href=$(this).attr("href"),!0}));var summaryheight=$(".read-more-target").height(),browservendor=window.navigator.vendor,webkitboxorient="vertical";-1!=browservendor.indexOf("Apple")&&(webkitboxorient="horizontal"),summaryheight>100&&($(".generalsectioninfo").find("#readmorebtn").removeClass("d-none"),$(".read-more-target .no-overflow").addClass("text-clamp text-clamp-3").css("-webkit-box-orient",webkitboxorient),$(".read-more-target").addClass("text-clamp text-clamp-3").css("-webkit-box-orient",webkitboxorient)),$("#readmorebtn").on("click",(function(){$(".read-more-target .no-overflow").removeClass("text-clamp text-clamp-3"),$(".read-more-target").removeClass("text-clamp text-clamp-3"),$(".generalsectioninfo").find("#readmorebtn").addClass("d-none"),$(".generalsectioninfo").find("#readlessbtn").removeClass("d-none")})),$("#readlessbtn").on("click",(function(){$(".read-more-target .no-overflow").addClass("text-clamp text-clamp-3").css("-webkit-box-orient",webkitboxorient),$(".read-more-target").addClass("text-clamp text-clamp-3").css("-webkit-box-orient",webkitboxorient),$(".generalsectioninfo").find("#readmorebtn").removeClass("d-none"),$(".generalsectioninfo").find("#readlessbtn").addClass("d-none")}))},adjustGeneralSectionActivities:adjustGeneralSectionActivities}}));

//# sourceMappingURL=common.min.js.map